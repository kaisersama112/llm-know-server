// 响应式样式定义
// 移动设备断点（参考 Bootstrap）
$mobile-breakpoint: 768px;
$tablet-breakpoint: 1024px;

// 移动设备（小于768px）
@media screen and (max-width: #{$mobile-breakpoint - 1px}) {
  // 全局样式调整
  :root {
    --app-view-padding: 8px;
    --sidebar-width: 0;
    --app-header-height: 50px;
    --app-header-padding: 0 12px;
  }
  
  body {
    font-size: 14px; // 稍微增大基础字体以提高可读性
  }
  
  // 布局调整
  .app-main {
    padding-left: 0 !important;
    padding-top: var(--app-header-height) !important;
  }
  
  // // 侧边栏在移动端隐藏
  // .sidebar {
  //   display: none;
  // }
  
  // 移动端显示的汉堡菜单按钮
  .mobile-menu-toggle {
    display: flex;
  }
  
  // 调整卡片大小以适应移动设备
  .el-card {
    margin-bottom: 12px;
  }
  
  // 调整表格在移动设备上的显示方式
  .el-table {
    font-size: 13px; // 略微增大表格字体
  }
  
  // 按钮在移动端更大一些以方便点击
  .el-button {
    padding: 8px 16px;
    font-size: 14px;
    min-width: 50px;
  }
  
  // 输入框在移动端更宽
  .el-input__wrapper {
    padding: 6px 12px;
  }
  
  // 对话框在移动端全屏显示
  .el-dialog {
    width: 95% !important;
    max-width: 95% !important;
    margin-top: 20px !important;
  }
  
  // 菜单在移动端堆叠显示
  .el-menu {
    overflow-x: auto;
  }
  
  // 调整头部高度和内边距
  .app-header {
    padding: var(--app-header-padding) !important;
  }
  
  // 移动端表单元素调整
  .el-form-item {
    margin-bottom: 16px;
  }
  
  // 移动端头像调整
  .el-avatar {
    --el-avatar-size: 32px;
  }
  
  // 顶部导航栏特定调整
  .app-top-bar-container {
    padding: 0 8px !important;
    height: var(--app-header-height) !important;
  }
  
  // Logo调整
  .logo {
    margin-top: 0 !important; // 移除顶部间距
  }
  
  // 菜单项调整
  .menu-item-container {
    margin-right: 16px !important;
    font-size: 14px !important; // 减小字体大小
  }
  
  // 顶部菜单容器调整
  .top-menu-container {
    line-height: var(--app-header-height) !important;
  }
  
  // 标题调整
  h1, h2, h3, h4, h5, h6 {
    font-size: 16px !important;
    margin: 0 !important;
  }
  
  // 右侧头像区域调整
  .avatar {
    margin-left: 4px !important;
  }
  
  // 移除垂直分割线
  .el-divider--vertical {
    display: none;
  }
  
  // 调整顶部关于按钮
  .top-about {
    margin-right: 0 !important;
  }
  
  // 调整工作空间下拉框
  .ml-24 {
    margin-left: 8px !important;
  }
  
  // 调整工作空间下拉框宽度
  .w-120 {
    width: 100px !important;
  }
  
  // 文本样式调整
  .title {
    font-size: 14px;
  }
  
  // 调整侧边栏抽屉样式以适应移动设备
  .mobile-sidebar-drawer {
    width: 280px !important;
  }
  
  // 调整移动端按钮样式
  .el-button--link {
    font-size: 13px !important;
    padding: 8px 12px !important;
  }
  
  // 调整Logo样式
  .logo-full {
    width: 80px !important;
    height: 32px !important;
  }
  
  // 调整Logo组件中的图片高度
  .logo img {
    height: 30px !important;
  }
  
  // 调整SVG Logo大小
  .logo svg {
    height: 30px !important;
  }
  
  // 隐藏用户名下拉菜单中的用户名文本
  .avatar-dropdown .userInfo p {
    font-size: 13px !important;
  }
  
  // 调整下拉菜单中的头像大小
  .avatar-dropdown .el-avatar {
    --el-avatar-size: 28px !important;
  }
  
  // 隐藏头像旁边的用户名文本（在非常小的屏幕上）
  @media screen and (max-width: 375px) {
    .avatar .ml-8 {
      display: none !important;
    }
    
    // 隐藏头像旁边的下拉箭头
    .avatar .el-icon--right {
      display: none !important;
    }
    
    // 进一步压缩头部间距
    .app-top-bar-container {
      padding: 0 4px !important;
    }
    
    // 进一步减小Logo大小
    .logo img,
    .logo svg {
      height: 28px !important;
    }
  }
  
  // 调整头部容器的对齐方式
  .flex-between {
    flex: 1;
    margin: 0 8px;
  }
  
  // 调整系统头部标题样式
  .flex-between h4 {
    font-size: 14px !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  // 调整顶部菜单响应式显示
  .top-menu-container {
    overflow-x: auto;
    white-space: nowrap;
  }
  
  // 隐藏滚动条但保留功能
  .top-menu-container::-webkit-scrollbar {
    display: none;
  }
  
  // 修复IE和Edge的滚动条隐藏
  .top-menu-container {
    -ms-overflow-style: none;
  }
  
  // 移动端面包屑调整
  .breadcrumb {
    padding: 8px 12px !important;
  }
  
  // 调整面包屑字体大小
  .breadcrumb-item {
    font-size: 13px !important;
  }
  
  // 调整标签页样式
  .el-tabs__item {
    font-size: 13px !important;
    padding: 0 12px !important;
  }
  
  // 调整输入框样式
  .el-input {
    font-size: 13px !important;
  }
  
  // 调整表格行高
  .el-table__row {
    height: 40px !important;
  }
  
  // 调整表格单元格内边距
  .el-table__cell {
    padding: 8px !important;
  }
  
  // 调整工具提示字体大小
  .el-tooltip__popper {
    font-size: 12px !important;
  }
  
  // 调整分页组件
  .el-pagination {
    font-size: 12px !important;
  }
  
  // 调整图标大小
  .el-icon {
    font-size: 16px !important;
  }
  
  // 调整徽章样式
  .el-badge__content {
    min-width: 18px !important;
    height: 18px !important;
    line-height: 18px !important;
    font-size: 12px !important;
  }
  
  // 调整消息提示样式
  .el-message {
    min-width: 260px !important;
    font-size: 13px !important;
  }
  
  // layout-container 移动端样式调整
  .layout-container {
    &__left {
      // 在移动端使用固定定位和更高的z-index
      &.mobile-drawer {
        width: 75% !important; // 缩小左侧抽屉宽度
        max-width: 250px;     // 减小最大宽度
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        height: 100vh !important;
        background-color: #fff !important;
        z-index: 1001 !important;
        box-shadow: 2px 0 12px rgba(0, 0, 0, 0.15) !important;
        transform: translateX(0) !important;
        transition: transform 0.3s ease-out !important;
      }
      
      &.hidden.mobile-drawer {
        transform: translateX(-100%) !important;
      }
      
      // 调整折叠按钮在移动端的样式，修复变形问题和位置问题
      .collapse {
  
        background-color: #fff !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
        border: 1px solid #e4e7ed !important;
        width: 32px !important;
        height: 32px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        padding: 0 !important;
        min-width: 32px !important;
        line-height: 32px !important;
      }
      
      // 移动端展开状态下隐藏关闭按钮
      .mobile-close {
        display: none !important;
      }
    }
    
    // 移动端遮罩层样式优化
    .mobile-overlay {
      z-index: 1000 !important;
      background-color: rgba(0, 0, 0, 0.5) !important;
      animation: fadeIn 0.3s ease-out !important;
    }
  }
  
  // 遮罩层淡入动画
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
}

// 平板设备（768px - 1024px）
@media screen and (min-width: #{$mobile-breakpoint}) and (max-width: #{$tablet-breakpoint - 1px}) {
  :root {
    --app-view-padding: 16px;
    --sidebar-width: 200px;
  }
  
  // 平板设备特定样式
  .app-main {
    padding-left: 200px !important;
  }
  
  .sidebar {
    width: 200px;
  }
}

// 小屏幕桌面（1024px - 1280px）
@media screen and (min-width: #{$tablet-breakpoint}) and (max-width: 1279px) {
  :root {
    --sidebar-width: 220px;
  }
}

// 大屏桌面（1280px及以上）
@media screen and (min-width: 1280px) {
  // 使用默认样式
}

// 触摸设备优化
@media (hover: none) and (pointer: coarse) {
  // 增加可点击元素的大小
  button,
  a,
  [role="button"] {
    min-width: 44px;
    min-height: 44px;
    padding: 8px;
  }
  
  // 防止双击缩放
  * {
    touch-action: manipulation;
  }
}

// 移动端内容适配
.mobile-responsive {
  // 文字自动换行
  word-wrap: break-word;
  word-break: break-all;
  
  // 图片自动缩放
  img {
    max-width: 100%;
    height: auto;
  }
  
  // 视频自动缩放
  video {
    max-width: 100%;
    height: auto;
  }
  
  // 表格水平滚动
  .responsive-table {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
}

// 移动端侧边栏抽屉样式
.mobile-sidebar-drawer {
  position: fixed;
  top: var(--app-header-height);
  left: 0;
  width: 80%;
  max-width: 300px;
  height: calc(100vh - var(--app-header-height));
  background: white;
  z-index: 1000;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
  transform: translateX(-100%);
  transition: transform 0.3s ease;
  overflow-y: auto;
  
  &.open {
    transform: translateX(0);
  }
}

// 移动端遮罩层
.mobile-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 999;
  display: none;
  
  &.show {
    display: block;
  }
}